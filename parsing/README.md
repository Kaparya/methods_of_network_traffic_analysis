# Домшнее задание 04 Парсинг и анализ (Data Parsing Pipeline)

Этот подпроект содержит инструменты для очистки и предобработки данных из датасета вакансий/резюме. Основная цель — превратить "грязные" текстовые данные в численные и категориальные признаки для последующего машинного обучения.

## Архитектура
Обработка реализована на паттерне **Chain of Responsibility** (Цепочка ответственности). Каждый этап обработки вынесен в отдельный класс-хэндлер, что позволяет легко добавлять, удалять или менять порядок этапов.

### Основные компоненты:
- **PipelineContext**: Объект, передающий состояние (DataFrame) между хэндлерами.
- **Handler (ABC)**: Абстрактный базовый класс для всех обработчиков.
- **build_pipeline()**: Функция сборки цепочки обработки.

## Реализованные хэндлеры

1. **LoadCSVHandler**: Загрузка данных, настройка кодировок и индексов.
2. **ParseGenderHandler**: Выделение пола (бинарный признак).
3. **ParseAgeHandler**: Парсинг возраста.
4. **ParseBirthdayMonthHandler**: Извлечение месяца рождения и удаление исходного столбца.
5. **ParseSalaryHandler**: 
   - Извлечение числового значения зарплаты.
   - Конвертация различных валют (USD, EUR, KZT, грн. и др.) в рубли по фиксированному курсу.
6. **ParseJobHandler**: 
   - Группировка редких профессий в категорию `other` на основе пороговых значений частоты.
7. **ParseCityHandler**: 
   - Группировка 1100+ городов в крупные регионы (Moscow, SPb, Federal Districts, CIS) для уменьшения размерности.
8. **ParseEmploymentHandler**: 
   - Создание бинарных признаков для типов занятости (full-time, part-time, internship и др.).
9. **ParseWorkScheduleHandler**: 
   - Создание бинарных признаков для графиков работы (remote, flexible, shift и др.).
10. **ParseExperienceHandler**: 
   - Конвертация текстового описания опыта (года, месяцы) в общее количество месяцев.
11. **ParseLastPlaceHandler**:
   - Удаление колонки с последним местом работы - возможно не несет достаточной пользы (может быть исправим позже).
12. **ParseLastJobHandler**:
    - Обработка последней должности, группировка редких значений.
13. **ParseEducationHandler**: 
   - Категоризация уровней образования (higher, incomplete higher, secondary) через бинарные флаги.
14. **ParseResumeHandler**:
    - Классификация резюме на "старые" (более 1 года) и "новые".
15. **ParseAutoHandler**:
    - Извлечение информации о наличии автомобиля.
16. **EncodeCategoricalFeaturesHandler**:
    - Кодирование категориальных признаков методом One-Hot Encoding (`get_dummies`).
17. **SplitDataHandler**:
    - Разделение данных на матрицу признаков `features` и целевую переменную `target`.
18. **SaveDataHandler**:
    - Сохранение обработанных данных в форматы `features.npy` и `target.npy`.

## Файловая структура
- `main.py`: Точка входа для запуска пайплайна.
- `src/`: Директория с исходным кодом (хэндлеры, ядро, сборка пайплайна).
- `hh.csv`: Исходный датасет (600MB+, исключен из git).
- `features.npy`: Результат работы пайплайна (матрица признаков).
- `target.npy`: Результат работы пайплайна (целевая переменная).

## Использование
```python
python3 main.py
```
